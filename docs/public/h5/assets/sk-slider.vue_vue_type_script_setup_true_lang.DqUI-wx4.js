import{e,z as t,A as a,u as l,j as n,f as r,g as s,o as u,i as o,a as i,n as d,h as c,d as m,t as b,b as f,q as v,Q as h,F as k,m as g,x as p,R as x}from"./index-DRb4nDkQ.js";import{u as y}from"./use-parent.ORcRvN7M.js";import{F as w}from"./index.Budg9xHA.js";import{S as M}from"./field.Ccjhm7Cj.js";const z=w({element:{root:"relative w-full select-none touch-none",value:"w-full flex-center text-primary sk-unit:mb-8",track:"relative box-border w-full bg-muted rounded-full sk-element:sk-unit:my-6 sk-element:border-x-20rpx sk-element:border-x-solid sk-element:border-x-transparent sk-element:border-l-current",fill:"absolute top-0 left-0 h-full",mark:"absolute top-full sk-unit:mt-8 text-secondary transform -translate-x-1/2",thumb:"absolute position-center border-2 border-solid rounded-full shadow-small cursor-pointer"},variants:{size:{small:{value:"text-sup-medium",track:"sk-unit:h-7",thumb:"sk-unit:size-14"},medium:{value:"text-sup-large-lt",track:"sk-unit:h-8",thumb:"sk-unit:size-16"},large:{value:"text-sup-large",track:"sk-unit:h-9",thumb:"sk-unit:size-18"}},color:{brand:{track:"text-brand",fill:"bg-brand",thumb:"border-brand bg-brand-foreground"},success:{track:"text-success",fill:"bg-success",thumb:"border-success bg-success-foreground"},warning:{track:"text-warning",fill:"bg-warning",thumb:"border-warning bg-warning-foreground"},danger:{track:"text-danger",fill:"bg-danger",thumb:"border-danger bg-danger-foreground"},neutral:{track:"text-neutral",fill:"bg-neutral",thumb:"border-neutral bg-neutral-foreground"}},disabled:{true:{root:"opacity-60 pointer-events-none"}}},defaults:{size:"medium",color:"brand",disabled:!1}}),T=e({inheritAttrs:!1,options:{virtualHost:!0},__name:"sk-slider",props:t({showValue:{type:Boolean,default:!1},min:{default:0},max:{default:100},step:{default:1},size:{default:"medium"},color:{default:"brand"},disabled:{type:Boolean,default:!1},marks:{},formatter:{},clax:{}},{modelValue:{default:0},modelModifiers:{}}),emits:t(["change"],["update:modelValue"]),setup(e,{emit:t}){const w=e,T=a(e,"modelValue"),V=t,j=l(),{parent:$}=y(M),B=p(),C=n(!1),R=r(()=>{const e={...w,disabled:w.disabled||(null==$?void 0:$.props.disabled)};return z(e)}),X=r(()=>{const e=w.max-w.min;return(Math.max(w.min,Math.min(w.max,T.value))-w.min)/e*100}),Y=r(()=>w.showValue||j.value),_=r(()=>({width:`${X.value}%`})),A=r(()=>({left:`${X.value}%`})),F=r(()=>w.formatter?w.formatter(T.value):T.value.toString());function S(e,t,a){if(!(null==B?void 0:B.proxy))return;x().in(B.proxy).select("#sk-slider-track").boundingClientRect(t=>{if(!t)return;let l=(e-t.left)/t.width;l=Math.max(0,Math.min(1,l));const n=w.max-w.min,r=function(e){const t=Math.round((e-w.min)/w.step);return w.min+t*w.step}(w.min+l*n);a(r)}).exec()}function q(e){const t=Math.max(w.min,Math.min(w.max,e));t!==T.value&&(T.value=t,V("change",t),$&&$.handleChange(t))}function H(e){var t,a;if(w.disabled||(null==$?void 0:$.props.disabled))return;const l=(null==(t=e.touches)?void 0:t[0])||(null==(a=e.changedTouches)?void 0:a[0])||e,n=l.clientX||e.clientX;l.clientY||e.clientY;S(n,0,e=>{q(e)})}function L(e){w.disabled||(null==$?void 0:$.props.disabled)||(C.value=!0,$&&$.handleFocus(T.value))}function N(e){var t,a;const l=(null==(t=e.touches)?void 0:t[0])||(null==(a=e.changedTouches)?void 0:a[0]);if(l){if(!C.value)return;S(l.clientX,l.clientY,e=>{q(e)})}}function Q(){C.value=!1,$&&$.handleBlur(T.value)}function D(e){const t=w.max-w.min;return`${(e.value-w.min)/t*100}%`}return(e,t)=>{const a=h;return u(),s("div",{class:d(R.value.root())},[Y.value?(u(),s("div",{key:0,class:d(R.value.value())},[c(e.$slots,"value",{value:T.value,formattedValue:F.value},()=>[m(b(F.value),1)])],2)):o("",!0),i("div",{id:"sk-slider-track",class:d(R.value.track()),onClick:H},[i("div",{class:d(R.value.fill()),style:v(_.value)},null,6),f(a,{class:d(R.value.thumb()),style:v(A.value),onTouchstart:L,onTouchmove:N,onTouchend:Q,onTouchcancel:Q},null,8,["class","style"]),e.marks&&e.marks.length>0?(u(!0),s(k,{key:0},g(e.marks,e=>(u(),s("div",{key:e.value,class:d(R.value.mark()),style:v({left:D(e)})},b(e.label||e.value),7))),128)):o("",!0)],2)],2)}}});export{T as _};
