import{e,j as a,c as s,w as t,r as l,o as u,a as r,b as o,g as i,i as n,B as m,d as p,t as _,s as d}from"./index-DRb4nDkQ.js";import{_ as v}from"./sk-form.vue_vue_type_script_setup_true_lang.BwqAvadH.js";import{_ as c}from"./sk-button.vue_vue_type_script_setup_true_lang.ykL6nLai.js";import{_ as f}from"./sk-spinner.Cz4b2ezK.js";import{_ as b}from"./sk-field.vue_vue_type_script_setup_true_lang.oeaLZY6M.js";import{_ as j}from"./sk-input.vue_vue_type_script_setup_true_lang.BPlVKoQ3.js";import{o as y,s as k}from"./types.DSKNIye4.js";import"./use-provide.BLvDn_jG.js";import"./form.pFMRjkfN.js";import"./use-parent.ORcRvN7M.js";import"./index.Budg9xHA.js";import"./field.Ccjhm7Cj.js";const g=e({__name:"submit",setup(e){const g=y({name:k().min(1,"姓名不能为空")}),x=a({name:""}),h=a(),w=a(!1),V=a("");async function N(e){w.value=!0,V.value="";try{await new Promise(e=>setTimeout(e,2e3)),V.value=`提交成功！数据: ${JSON.stringify(e,null,2)}`,d({title:"提交成功",icon:"success"})}catch{V.value="提交失败，请重试",d({title:"提交失败",icon:"error"})}finally{w.value=!1}}function O(){var e;V.value="",x.value={name:""},null==(e=h.value)||e.resetValidation(),d({title:"表单校验状态已重置",icon:"none"})}return(e,a)=>{const d=j,y=b,k=f,P=c,R=v,S=l("global-ku-root");return u(),s(S,null,{default:t(()=>[r("div",{class:"p-4 w-full"},[o(R,{ref_key:"formRef",ref:h,schema:m(g),values:x.value,onSubmit:N},{default:t(()=>[o(y,{name:"name",label:"姓名",required:""},{default:t(()=>[o(d,{modelValue:x.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value.name=e),placeholder:"请输入您的姓名"},null,8,["modelValue"])]),_:1}),r("div",{class:"flex gap-2 mt-4"},[o(P,{type:"submit",color:"brand",disabled:w.value},{default:t(()=>[w.value?(u(),s(k,{key:0,color:"current"})):n("",!0),p(_(w.value?"提交中...":"提交"),1)]),_:1},8,["disabled"]),o(P,{variant:"bound",disabled:w.value,onClick:O},{default:t(()=>[p(" 重置提交与校验 ")]),_:1},8,["disabled"])])]),_:1},8,["schema","values"]),V.value?(u(),i("div",{key:0,class:"mt-4 p-3 bg-muted rounded"},[r("pre",{class:"text-sm"},_(V.value),1)])):n("",!0)])]),_:1})}}});export{g as default};
