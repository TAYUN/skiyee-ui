import{e,u as l,f as t,E as a,G as i,H as s,g as r,o,i as n,a as d,B as u,q as m,n as p,h as v,t as c,d as b}from"./index-DRb4nDkQ.js";import{u as f}from"./use-parent.ORcRvN7M.js";import{F as x}from"./index.Budg9xHA.js";import{u as h}from"./use-provide.BLvDn_jG.js";import{S as y}from"./form.pFMRjkfN.js";import{S as k}from"./field.Ccjhm7Cj.js";const g=x({element:{root:"w-full sk-unit:mt-14 first:mt-0",label:"text-body-medium text-primary",required:"text-danger sk-unit:ml-4",content:"w-full",description:"w-full text-description text-sup-large-lt sk-unit:px-2 sk-unit:mt-4",error:"w-full text-danger text-sup-large-lt sk-unit:px-2 sk-unit:mt-4"},variants:{size:{small:{label:"text-body-small",description:"text-body-small"},medium:{label:"text-body-medium",description:"text-body-small"},large:{label:"text-body-large",description:"text-body-medium"}},orientation:{vertical:{root:"flex flex-col",content:"sk-unit:mt-8"},horizontal:{root:"flex flex-row items-center flex-wrap",label:"shrink-0",content:"flex-1"}},disabled:{true:{root:"opacity-60 pointer-events-none"},false:{}}},defaults:{size:"medium",orientation:"vertical",disabled:!1}}),z=e({inheritAttrs:!1,options:{virtualHost:!0},__name:"sk-field",props:{name:{},label:{},labelWidth:{},required:{type:Boolean,default:!1},description:{},error:{},orientation:{},size:{},disabled:{type:Boolean,default:!1},clax:{}},setup(e){const x=e,z=l(),{parent:$}=f(y),w=t(()=>({labelWidth:x.labelWidth??(null==$?void 0:$.props.labelWidth)??140,size:x.size||(null==$?void 0:$.props.size)||"medium",orientation:x.orientation||(null==$?void 0:$.props.orientation)||"vertical",disabled:x.disabled||(null==$?void 0:$.props.disabled)})),W=t(()=>{const e={...x,...w.value};return g(e)}),j=t(()=>x.name&&$?$.getFieldState(x.name):null),F=t(()=>"vertical"===w.value.orientation?"":Number.isNaN(Number(w.value.labelWidth))?w.value.labelWidth:`${w.value.labelWidth}rpx`),q=t(()=>{const e=$&&$.state.isSubmitted&&!$.state.isGlobalValid,l=j.value&&j.value.touched&&!j.value.valid;return e||l}),B=t(()=>x.error?x.error:q.value&&j.value?j.value.errors[0]:""),N=t(()=>x.required&&x.label),S=t(()=>x.description||z.description),L=t(()=>B.value||z.error);const _=a({props:i({name:s(()=>x.name),size:s(()=>x.size),disabled:s(()=>w.value.disabled)}),handleFocus:function(e){x.name&&$&&$.handleFieldFocus(x.name,e)},handleBlur:function(e){x.name&&$&&$.handleFieldBlur(x.name,e)},handleChange:function(e){x.name&&$&&$.handleFieldChange(x.name,e)}});return h(k)(_),(e,l)=>(o(),r("div",{class:p(W.value.root())},[e.label||u(z).label?(o(),r("div",{key:0,class:p(W.value.label()),style:m(`width:${F.value}`)},[v(e.$slots,"label",{},()=>[d("span",null,c(e.label),1),N.value?(o(),r("span",{key:0,class:p(W.value.required())},"*",2)):n("",!0)])],6)):n("",!0),d("div",{class:p(W.value.content())},[v(e.$slots,"default")],2),L.value?(o(),r("div",{key:1,class:p(W.value.error()),style:m(`marginLeft: ${F.value};`)},[v(e.$slots,"error",{},()=>[b(c(B.value),1)])],6)):S.value?(o(),r("div",{key:2,class:p(W.value.description()),style:m(`marginLeft: ${F.value};`)},[v(e.$slots,"description",{},()=>[b(c(e.description),1)])],6)):n("",!0)],2))}});export{z as _};
